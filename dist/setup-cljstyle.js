var Pr=Object.create,Xe=Object.defineProperty,br=Object.getPrototypeOf,Cr=Object.prototype.hasOwnProperty,Dr=Object.getOwnPropertyNames,$r=Object.getOwnPropertyDescriptor,qr=e=>Xe(e,"__esModule",{value:!0}),I=(e,t)=>()=>(t||(t={exports:{}},e(t.exports,t)),t.exports),Fr=(e,t,r)=>{if(qr(e),t&&typeof t=="object"||typeof t=="function")for(let i of Dr(t))!Cr.call(e,i)&&i!=="default"&&Xe(e,i,{get:()=>t[i],enumerable:!(r=$r(t,i))||r.enumerable});return e},A=e=>e&&e.__esModule?e:Fr(Xe(e!=null?Pr(br(e)):{},"default",{value:e,enumerable:!0}),e),_e=I(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});function kr(e){return e==null?"":typeof e=="string"||e instanceof String?e:JSON.stringify(e)}We.toCommandValue=kr}),wt=I(ce=>{"use strict";var jr=ce&&ce.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(ce,"__esModule",{value:!0});const Ur=jr(require("os")),Et=_e();function yt(e,t,r){const i=new Mr(e,t,r);process.stdout.write(i.toString()+Ur.EOL)}ce.issueCommand=yt;function Gr(e,t=""){yt(e,{},t)}ce.issue=Gr;const vt="::";class Mr{constructor(e,t,r){e||(e="missing.command"),this.command=e,this.properties=t,this.message=r}toString(){let e=vt+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let t=!0;for(const r in this.properties)if(this.properties.hasOwnProperty(r)){const i=this.properties[r];i&&(t?t=!1:e+=",",e+=`${r}=${Vr(i)}`)}}return e+=`${vt}${Br(this.message)}`,e}}function Br(e){return Et.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function Vr(e){return Et.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}}),Ot=I(we=>{"use strict";var gt=we&&we.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(we,"__esModule",{value:!0});const Rt=gt(require("fs")),Xr=gt(require("os")),Wr=_e();function Hr(e,t){const r=process.env[`GITHUB_${e}`];if(!r)throw new Error(`Unable to find environment variable for file command ${e}`);if(!Rt.existsSync(r))throw new Error(`Missing file at path: ${r}`);Rt.appendFileSync(r,`${Wr.toCommandValue(t)}${Xr.EOL}`,{encoding:"utf8"})}we.issueCommand=Hr}),M=I(S=>{"use strict";var zr=S&&S.__awaiter||function(e,t,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{h(i.next(u))}catch(d){o(d)}}function c(u){try{h(i.throw(u))}catch(d){o(d)}}function h(u){u.done?s(u.value):n(u.value).then(a,c)}h((i=i.apply(e,t||[])).next())})},St=S&&S.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(S,"__esModule",{value:!0});const k=wt(),_t=Ot(),Jr=_e(),He=St(require("os")),Yr=St(require("path"));var Tt;(function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"})(Tt=S.ExitCode||(S.ExitCode={}));function Qr(e,t){const r=Jr.toCommandValue(t);process.env[e]=r;const i=process.env.GITHUB_ENV||"";if(i){const n="_GitHubActionsFileCommandDelimeter_",s=`${e}<<${n}${He.EOL}${r}${He.EOL}${n}`;_t.issueCommand("ENV",s)}else k.issueCommand("set-env",{name:e},r)}S.exportVariable=Qr;function Zr(e){k.issueCommand("add-mask",{},e)}S.setSecret=Zr;function Kr(e){const t=process.env.GITHUB_PATH||"";t?_t.issueCommand("PATH",e):k.issueCommand("add-path",{},e),process.env.PATH=`${e}${Yr.delimiter}${process.env.PATH}`}S.addPath=Kr;function ei(e,t){const r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r)throw new Error(`Input required and not supplied: ${e}`);return r.trim()}S.getInput=ei;function ti(e,t){k.issueCommand("set-output",{name:e},t)}S.setOutput=ti;function ri(e){k.issue("echo",e?"on":"off")}S.setCommandEcho=ri;function ii(e){process.exitCode=Tt.Failure,It(e)}S.setFailed=ii;function ni(){return process.env.RUNNER_DEBUG==="1"}S.isDebug=ni;function si(e){k.issueCommand("debug",{},e)}S.debug=si;function It(e){k.issue("error",e instanceof Error?e.toString():e)}S.error=It;function oi(e){k.issue("warning",e instanceof Error?e.toString():e)}S.warning=oi;function ai(e){process.stdout.write(e+He.EOL)}S.info=ai;function At(e){k.issue("group",e)}S.startGroup=At;function Nt(){k.issue("endgroup")}S.endGroup=Nt;function ci(e,t){return zr(this,void 0,void 0,function*(){At(e);let r;try{r=yield t()}finally{Nt()}return r})}S.group=ci;function li(e,t){k.issueCommand("save-state",{name:e},t)}S.saveState=li;function ui(e){return process.env[`STATE_${e}`]||""}S.getState=ui}),ze=I(y=>{"use strict";var Te=y&&y.__awaiter||function(e,t,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{h(i.next(u))}catch(d){o(d)}}function c(u){try{h(i.throw(u))}catch(d){o(d)}}function h(u){u.done?s(u.value):n(u.value).then(a,c)}h((i=i.apply(e,t||[])).next())})},D;Object.defineProperty(y,"__esModule",{value:!0});const fi=require("assert"),hi=require("fs"),le=require("path");D=hi.promises,y.chmod=D.chmod,y.copyFile=D.copyFile,y.lstat=D.lstat,y.mkdir=D.mkdir,y.readdir=D.readdir,y.readlink=D.readlink,y.rename=D.rename,y.rmdir=D.rmdir,y.stat=D.stat,y.symlink=D.symlink,y.unlink=D.unlink;y.IS_WINDOWS=process.platform==="win32";function di(e){return Te(this,void 0,void 0,function*(){try{yield y.stat(e)}catch(t){if(t.code==="ENOENT")return!1;throw t}return!0})}y.exists=di;function pi(e,t=!1){return Te(this,void 0,void 0,function*(){const r=t?yield y.stat(e):yield y.lstat(e);return r.isDirectory()})}y.isDirectory=pi;function Ei(e){if(e=mi(e),!e)throw new Error('isRooted() parameter "p" cannot be empty');return y.IS_WINDOWS?e.startsWith("\\")||/^[A-Z]:/i.test(e):e.startsWith("/")}y.isRooted=Ei;function xt(e,t=1e3,r=1){return Te(this,void 0,void 0,function*(){if(fi.ok(e,"a path argument must be provided"),e=le.resolve(e),r>=t)return y.mkdir(e);try{yield y.mkdir(e);return}catch(i){switch(i.code){case"ENOENT":{yield xt(le.dirname(e),t,r+1),yield y.mkdir(e);return}default:{let n;try{n=yield y.stat(e)}catch(s){throw i}if(!n.isDirectory())throw i}}}})}y.mkdirP=xt;function yi(e,t){return Te(this,void 0,void 0,function*(){let r;try{r=yield y.stat(e)}catch(n){n.code!=="ENOENT"&&console.log(`Unexpected error attempting to determine if executable file exists '${e}': ${n}`)}if(r&&r.isFile()){if(y.IS_WINDOWS){const n=le.extname(e).toUpperCase();if(t.some(s=>s.toUpperCase()===n))return e}else if(Lt(r))return e}const i=e;for(const n of t){e=i+n,r=void 0;try{r=yield y.stat(e)}catch(s){s.code!=="ENOENT"&&console.log(`Unexpected error attempting to determine if executable file exists '${e}': ${s}`)}if(r&&r.isFile()){if(y.IS_WINDOWS){try{const s=le.dirname(e),o=le.basename(e).toUpperCase();for(const a of yield y.readdir(s))if(o===a.toUpperCase()){e=le.join(s,a);break}}catch(s){console.log(`Unexpected error attempting to determine the actual case of the file '${e}': ${s}`)}return e}else if(Lt(r))return e}}return""})}y.tryGetExecutablePath=yi;function mi(e){return e=e||"",y.IS_WINDOWS?(e=e.replace(/\//g,"\\"),e.replace(/\\\\+/g,"\\")):e.replace(/\/\/+/g,"/")}function Lt(e){return(e.mode&1)>0||(e.mode&8)>0&&e.gid===process.getgid()||(e.mode&64)>0&&e.uid===process.getuid()}}),Ie=I(V=>{"use strict";var te=V&&V.__awaiter||function(e,t,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{h(i.next(u))}catch(d){o(d)}}function c(u){try{h(i.throw(u))}catch(d){o(d)}}function h(u){u.done?s(u.value):n(u.value).then(a,c)}h((i=i.apply(e,t||[])).next())})};Object.defineProperty(V,"__esModule",{value:!0});const vi=require("child_process"),X=require("path"),wi=require("util"),v=ze(),Je=wi.promisify(vi.exec);function Ri(e,t,r={}){return te(this,void 0,void 0,function*(){const{force:i,recursive:n}=gi(r),s=(yield v.exists(t))?yield v.stat(t):null;if(s&&s.isFile()&&!i)return;const o=s&&s.isDirectory()?X.join(t,X.basename(e)):t;if(!(yield v.exists(e)))throw new Error(`no such file or directory: ${e}`);const a=yield v.stat(e);if(a.isDirectory())if(n)yield Pt(e,o,0,i);else throw new Error(`Failed to copy. ${e} is a directory, but tried to copy without recursive flag.`);else{if(X.relative(e,o)==="")throw new Error(`'${o}' and '${e}' are the same file`);yield bt(e,o,i)}})}V.cp=Ri;function Oi(e,t,r={}){return te(this,void 0,void 0,function*(){if(yield v.exists(t)){let i=!0;if((yield v.isDirectory(t))&&(t=X.join(t,X.basename(e)),i=yield v.exists(t)),i)if(r.force==null||r.force)yield Ct(t);else throw new Error("Destination already exists")}yield Ye(X.dirname(t)),yield v.rename(e,t)})}V.mv=Oi;function Ct(e){return te(this,void 0,void 0,function*(){if(v.IS_WINDOWS){try{(yield v.isDirectory(e,!0))?yield Je(`rd /s /q "${e}"`):yield Je(`del /f /a "${e}"`)}catch(t){if(t.code!=="ENOENT")throw t}try{yield v.unlink(e)}catch(t){if(t.code!=="ENOENT")throw t}}else{let t=!1;try{t=yield v.isDirectory(e)}catch(r){if(r.code!=="ENOENT")throw r;return}t?yield Je(`rm -rf "${e}"`):yield v.unlink(e)}})}V.rmRF=Ct;function Ye(e){return te(this,void 0,void 0,function*(){yield v.mkdirP(e)})}V.mkdirP=Ye;function Dt(e,t){return te(this,void 0,void 0,function*(){if(!e)throw new Error("parameter 'tool' is required");if(t){const r=yield Dt(e,!1);if(!r)throw v.IS_WINDOWS?new Error(`Unable to locate executable file: ${e}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also verify the file has a valid extension for an executable file.`):new Error(`Unable to locate executable file: ${e}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also check the file mode to verify the file is executable.`)}try{const r=[];if(v.IS_WINDOWS&&process.env.PATHEXT)for(const n of process.env.PATHEXT.split(X.delimiter))n&&r.push(n);if(v.isRooted(e)){const n=yield v.tryGetExecutablePath(e,r);return n||""}if(e.includes("/")||v.IS_WINDOWS&&e.includes("\\"))return"";const i=[];if(process.env.PATH)for(const n of process.env.PATH.split(X.delimiter))n&&i.push(n);for(const n of i){const s=yield v.tryGetExecutablePath(n+X.sep+e,r);if(s)return s}return""}catch(r){throw new Error(`which failed with message ${r.message}`)}})}V.which=Dt;function gi(e){const t=e.force==null?!0:e.force,r=Boolean(e.recursive);return{force:t,recursive:r}}function Pt(e,t,r,i){return te(this,void 0,void 0,function*(){if(r>=255)return;r++,yield Ye(t);const n=yield v.readdir(e);for(const s of n){const o=`${e}/${s}`,a=`${t}/${s}`,c=yield v.lstat(o);c.isDirectory()?yield Pt(o,a,r,i):yield bt(o,a,i)}yield v.chmod(t,(yield v.stat(e)).mode)})}function bt(e,t,r){return te(this,void 0,void 0,function*(){if((yield v.lstat(e)).isSymbolicLink()){try{yield v.lstat(t),yield v.unlink(t)}catch(n){n.code==="EPERM"&&(yield v.chmod(t,"0666"),yield v.unlink(t))}const i=yield v.readlink(e);yield v.symlink(i,t,v.IS_WINDOWS?"junction":null)}else(!(yield v.exists(t))||r)&&(yield v.copyFile(e,t))})}}),it=I((p,$t)=>{p=$t.exports=m;var R;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?R=function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:R=function(){};p.SEMVER_SPEC_VERSION="2.0.0";var Qe=256,Ae=Number.MAX_SAFE_INTEGER||9007199254740991,Ze=16,w=p.re=[],f=p.src=[],l=p.tokens={},qt=0;function E(e){l[e]=qt++}E("NUMERICIDENTIFIER");f[l.NUMERICIDENTIFIER]="0|[1-9]\\d*";E("NUMERICIDENTIFIERLOOSE");f[l.NUMERICIDENTIFIERLOOSE]="[0-9]+";E("NONNUMERICIDENTIFIER");f[l.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";E("MAINVERSION");f[l.MAINVERSION]="("+f[l.NUMERICIDENTIFIER]+")\\.("+f[l.NUMERICIDENTIFIER]+")\\.("+f[l.NUMERICIDENTIFIER]+")";E("MAINVERSIONLOOSE");f[l.MAINVERSIONLOOSE]="("+f[l.NUMERICIDENTIFIERLOOSE]+")\\.("+f[l.NUMERICIDENTIFIERLOOSE]+")\\.("+f[l.NUMERICIDENTIFIERLOOSE]+")";E("PRERELEASEIDENTIFIER");f[l.PRERELEASEIDENTIFIER]="(?:"+f[l.NUMERICIDENTIFIER]+"|"+f[l.NONNUMERICIDENTIFIER]+")";E("PRERELEASEIDENTIFIERLOOSE");f[l.PRERELEASEIDENTIFIERLOOSE]="(?:"+f[l.NUMERICIDENTIFIERLOOSE]+"|"+f[l.NONNUMERICIDENTIFIER]+")";E("PRERELEASE");f[l.PRERELEASE]="(?:-("+f[l.PRERELEASEIDENTIFIER]+"(?:\\."+f[l.PRERELEASEIDENTIFIER]+")*))";E("PRERELEASELOOSE");f[l.PRERELEASELOOSE]="(?:-?("+f[l.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+f[l.PRERELEASEIDENTIFIERLOOSE]+")*))";E("BUILDIDENTIFIER");f[l.BUILDIDENTIFIER]="[0-9A-Za-z-]+";E("BUILD");f[l.BUILD]="(?:\\+("+f[l.BUILDIDENTIFIER]+"(?:\\."+f[l.BUILDIDENTIFIER]+")*))";E("FULL");E("FULLPLAIN");f[l.FULLPLAIN]="v?"+f[l.MAINVERSION]+f[l.PRERELEASE]+"?"+f[l.BUILD]+"?";f[l.FULL]="^"+f[l.FULLPLAIN]+"$";E("LOOSEPLAIN");f[l.LOOSEPLAIN]="[v=\\s]*"+f[l.MAINVERSIONLOOSE]+f[l.PRERELEASELOOSE]+"?"+f[l.BUILD]+"?";E("LOOSE");f[l.LOOSE]="^"+f[l.LOOSEPLAIN]+"$";E("GTLT");f[l.GTLT]="((?:<|>)?=?)";E("XRANGEIDENTIFIERLOOSE");f[l.XRANGEIDENTIFIERLOOSE]=f[l.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*";E("XRANGEIDENTIFIER");f[l.XRANGEIDENTIFIER]=f[l.NUMERICIDENTIFIER]+"|x|X|\\*";E("XRANGEPLAIN");f[l.XRANGEPLAIN]="[v=\\s]*("+f[l.XRANGEIDENTIFIER]+")(?:\\.("+f[l.XRANGEIDENTIFIER]+")(?:\\.("+f[l.XRANGEIDENTIFIER]+")(?:"+f[l.PRERELEASE]+")?"+f[l.BUILD]+"?)?)?";E("XRANGEPLAINLOOSE");f[l.XRANGEPLAINLOOSE]="[v=\\s]*("+f[l.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+f[l.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+f[l.XRANGEIDENTIFIERLOOSE]+")(?:"+f[l.PRERELEASELOOSE]+")?"+f[l.BUILD]+"?)?)?";E("XRANGE");f[l.XRANGE]="^"+f[l.GTLT]+"\\s*"+f[l.XRANGEPLAIN]+"$";E("XRANGELOOSE");f[l.XRANGELOOSE]="^"+f[l.GTLT]+"\\s*"+f[l.XRANGEPLAINLOOSE]+"$";E("COERCE");f[l.COERCE]="(^|[^\\d])(\\d{1,"+Ze+"})(?:\\.(\\d{1,"+Ze+"}))?(?:\\.(\\d{1,"+Ze+"}))?(?:$|[^\\d])";E("COERCERTL");w[l.COERCERTL]=new RegExp(f[l.COERCE],"g");E("LONETILDE");f[l.LONETILDE]="(?:~>?)";E("TILDETRIM");f[l.TILDETRIM]="(\\s*)"+f[l.LONETILDE]+"\\s+";w[l.TILDETRIM]=new RegExp(f[l.TILDETRIM],"g");var Si="$1~";E("TILDE");f[l.TILDE]="^"+f[l.LONETILDE]+f[l.XRANGEPLAIN]+"$";E("TILDELOOSE");f[l.TILDELOOSE]="^"+f[l.LONETILDE]+f[l.XRANGEPLAINLOOSE]+"$";E("LONECARET");f[l.LONECARET]="(?:\\^)";E("CARETTRIM");f[l.CARETTRIM]="(\\s*)"+f[l.LONECARET]+"\\s+";w[l.CARETTRIM]=new RegExp(f[l.CARETTRIM],"g");var _i="$1^";E("CARET");f[l.CARET]="^"+f[l.LONECARET]+f[l.XRANGEPLAIN]+"$";E("CARETLOOSE");f[l.CARETLOOSE]="^"+f[l.LONECARET]+f[l.XRANGEPLAINLOOSE]+"$";E("COMPARATORLOOSE");f[l.COMPARATORLOOSE]="^"+f[l.GTLT]+"\\s*("+f[l.LOOSEPLAIN]+")$|^$";E("COMPARATOR");f[l.COMPARATOR]="^"+f[l.GTLT]+"\\s*("+f[l.FULLPLAIN]+")$|^$";E("COMPARATORTRIM");f[l.COMPARATORTRIM]="(\\s*)"+f[l.GTLT]+"\\s*("+f[l.LOOSEPLAIN]+"|"+f[l.XRANGEPLAIN]+")";w[l.COMPARATORTRIM]=new RegExp(f[l.COMPARATORTRIM],"g");var Ti="$1$2$3";E("HYPHENRANGE");f[l.HYPHENRANGE]="^\\s*("+f[l.XRANGEPLAIN]+")\\s+-\\s+("+f[l.XRANGEPLAIN]+")\\s*$";E("HYPHENRANGELOOSE");f[l.HYPHENRANGELOOSE]="^\\s*("+f[l.XRANGEPLAINLOOSE]+")\\s+-\\s+("+f[l.XRANGEPLAINLOOSE]+")\\s*$";E("STAR");f[l.STAR]="(<|>)?=?\\s*\\*";for(var re=0;re<qt;re++)R(re,f[re]),w[re]||(w[re]=new RegExp(f[re]));p.parse=ie;function ie(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof m)return e;if(typeof e!="string")return null;if(e.length>Qe)return null;var r=t.loose?w[l.LOOSE]:w[l.FULL];if(!r.test(e))return null;try{return new m(e,t)}catch(i){return null}}p.valid=Ii;function Ii(e,t){var r=ie(e,t);return r?r.version:null}p.clean=Ai;function Ai(e,t){var r=ie(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}p.SemVer=m;function m(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof m){if(e.loose===t.loose)return e;e=e.version}else if(typeof e!="string")throw new TypeError("Invalid Version: "+e);if(e.length>Qe)throw new TypeError("version is longer than "+Qe+" characters");if(!(this instanceof m))return new m(e,t);R("SemVer",e,t),this.options=t,this.loose=!!t.loose;var r=e.trim().match(t.loose?w[l.LOOSE]:w[l.FULL]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Ae||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ae||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ae||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(function(i){if(/^[0-9]+$/.test(i)){var n=+i;if(n>=0&&n<Ae)return n}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}m.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};m.prototype.toString=function(){return this.version};m.prototype.compare=function(e){return R("SemVer.compare",this.version,this.options,e),e instanceof m||(e=new m(e,this.options)),this.compareMain(e)||this.comparePre(e)};m.prototype.compareMain=function(e){return e instanceof m||(e=new m(e,this.options)),ne(this.major,e.major)||ne(this.minor,e.minor)||ne(this.patch,e.patch)};m.prototype.comparePre=function(e){if(e instanceof m||(e=new m(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],i=e.prerelease[t];if(R("prerelease compare",t,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return ne(r,i)}while(++t)};m.prototype.compareBuild=function(e){e instanceof m||(e=new m(e,this.options));var t=0;do{var r=this.build[t],i=e.build[t];if(R("prerelease compare",t,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return ne(r,i)}while(++t)};m.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this};p.inc=Ni;function Ni(e,t,r,i){typeof r=="string"&&(i=r,r=void 0);try{return new m(e,r).inc(t,i).version}catch(n){return null}}p.diff=xi;function xi(e,t){if(Ke(e,t))return null;var r=ie(e),i=ie(t),n="";if(r.prerelease.length||i.prerelease.length){n="pre";var s="prerelease"}for(var o in r)if((o==="major"||o==="minor"||o==="patch")&&r[o]!==i[o])return n+o;return s}p.compareIdentifiers=ne;var Ft=/^[0-9]+$/;function ne(e,t){var r=Ft.test(e),i=Ft.test(t);return r&&i&&(e=+e,t=+t),e===t?0:r&&!i?-1:i&&!r?1:e<t?-1:1}p.rcompareIdentifiers=Li;function Li(e,t){return ne(t,e)}p.major=Pi;function Pi(e,t){return new m(e,t).major}p.minor=bi;function bi(e,t){return new m(e,t).minor}p.patch=Ci;function Ci(e,t){return new m(e,t).patch}p.compare=W;function W(e,t,r){return new m(e,r).compare(new m(t,r))}p.compareLoose=Di;function Di(e,t){return W(e,t,!0)}p.compareBuild=$i;function $i(e,t,r){var i=new m(e,r),n=new m(t,r);return i.compare(n)||i.compareBuild(n)}p.rcompare=qi;function qi(e,t,r){return W(t,e,r)}p.sort=Fi;function Fi(e,t){return e.sort(function(r,i){return p.compareBuild(r,i,t)})}p.rsort=ki;function ki(e,t){return e.sort(function(r,i){return p.compareBuild(i,r,t)})}p.gt=ge;function ge(e,t,r){return W(e,t,r)>0}p.lt=Ne;function Ne(e,t,r){return W(e,t,r)<0}p.eq=Ke;function Ke(e,t,r){return W(e,t,r)===0}p.neq=kt;function kt(e,t,r){return W(e,t,r)!==0}p.gte=et;function et(e,t,r){return W(e,t,r)>=0}p.lte=tt;function tt(e,t,r){return W(e,t,r)<=0}p.cmp=xe;function xe(e,t,r,i){switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return Ke(e,r,i);case"!=":return kt(e,r,i);case">":return ge(e,r,i);case">=":return et(e,r,i);case"<":return Ne(e,r,i);case"<=":return tt(e,r,i);default:throw new TypeError("Invalid operator: "+t)}}p.Comparator=$;function $(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof $){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof $))return new $(e,t);R("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ue?this.value="":this.value=this.operator+this.semver.version,R("comp",this)}var ue={};$.prototype.parse=function(e){var t=this.options.loose?w[l.COMPARATORLOOSE]:w[l.COMPARATOR],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new m(r[2],this.options.loose):this.semver=ue};$.prototype.toString=function(){return this.value};$.prototype.test=function(e){if(R("Comparator.test",e,this.options.loose),this.semver===ue||e===ue)return!0;if(typeof e=="string")try{e=new m(e,this.options)}catch(t){return!1}return xe(e,this.operator,this.semver,this.options)};$.prototype.intersects=function(e,t){if(!(e instanceof $))throw new TypeError("a Comparator is required");(!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1});var r;if(this.operator==="")return this.value===""?!0:(r=new _(e.value,t),Le(this.value,r,t));if(e.operator==="")return e.value===""?!0:(r=new _(this.value,t),Le(e.semver,r,t));var i=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),n=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),s=this.semver.version===e.semver.version,o=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),a=xe(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),c=xe(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return i||n||s&&o||a||c};p.Range=_;function _(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof _)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new _(e.raw,t);if(e instanceof $)return new _(e.value,t);if(!(this instanceof _))return new _(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(r){return this.parseRange(r.trim())},this).filter(function(r){return r.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}_.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range};_.prototype.toString=function(){return this.range};_.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?w[l.HYPHENRANGELOOSE]:w[l.HYPHENRANGE];e=e.replace(r,Ui),R("hyphen replace",e),e=e.replace(w[l.COMPARATORTRIM],Ti),R("comparator trim",e,w[l.COMPARATORTRIM]),e=e.replace(w[l.TILDETRIM],Si),e=e.replace(w[l.CARETTRIM],_i),e=e.split(/\s+/).join(" ");var i=t?w[l.COMPARATORLOOSE]:w[l.COMPARATOR],n=e.split(" ").map(function(s){return ji(s,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(n=n.filter(function(s){return!!s.match(i)})),n=n.map(function(s){return new $(s,this.options)},this),n};_.prototype.intersects=function(e,t){if(!(e instanceof _))throw new TypeError("a Range is required");return this.set.some(function(r){return jt(r,t)&&e.set.some(function(i){return jt(i,t)&&r.every(function(n){return i.every(function(s){return n.intersects(s,t)})})})})};function jt(e,t){for(var r=!0,i=e.slice(),n=i.pop();r&&i.length;)r=i.every(function(s){return n.intersects(s,t)}),n=i.pop();return r}p.toComparators=Mi;function Mi(e,t){return new _(e,t).set.map(function(r){return r.map(function(i){return i.value}).join(" ").trim().split(" ")})}function ji(e,t){return R("comp",e,t),e=Bi(e,t),R("caret",e),e=Gi(e,t),R("tildes",e),e=Vi(e,t),R("xrange",e),e=Xi(e,t),R("stars",e),e}function N(e){return!e||e.toLowerCase()==="x"||e==="*"}function Gi(e,t){return e.trim().split(/\s+/).map(function(r){return Wi(r,t)}).join(" ")}function Wi(e,t){var r=t.loose?w[l.TILDELOOSE]:w[l.TILDE];return e.replace(r,function(i,n,s,o,a){R("tilde",e,i,n,s,o,a);var c;return N(n)?c="":N(s)?c=">="+n+".0.0 <"+(+n+1)+".0.0":N(o)?c=">="+n+"."+s+".0 <"+n+"."+(+s+1)+".0":a?(R("replaceTilde pr",a),c=">="+n+"."+s+"."+o+"-"+a+" <"+n+"."+(+s+1)+".0"):c=">="+n+"."+s+"."+o+" <"+n+"."+(+s+1)+".0",R("tilde return",c),c})}function Bi(e,t){return e.trim().split(/\s+/).map(function(r){return Hi(r,t)}).join(" ")}function Hi(e,t){R("caret",e,t);var r=t.loose?w[l.CARETLOOSE]:w[l.CARET];return e.replace(r,function(i,n,s,o,a){R("caret",e,i,n,s,o,a);var c;return N(n)?c="":N(s)?c=">="+n+".0.0 <"+(+n+1)+".0.0":N(o)?n==="0"?c=">="+n+"."+s+".0 <"+n+"."+(+s+1)+".0":c=">="+n+"."+s+".0 <"+(+n+1)+".0.0":a?(R("replaceCaret pr",a),n==="0"?s==="0"?c=">="+n+"."+s+"."+o+"-"+a+" <"+n+"."+s+"."+(+o+1):c=">="+n+"."+s+"."+o+"-"+a+" <"+n+"."+(+s+1)+".0":c=">="+n+"."+s+"."+o+"-"+a+" <"+(+n+1)+".0.0"):(R("no pr"),n==="0"?s==="0"?c=">="+n+"."+s+"."+o+" <"+n+"."+s+"."+(+o+1):c=">="+n+"."+s+"."+o+" <"+n+"."+(+s+1)+".0":c=">="+n+"."+s+"."+o+" <"+(+n+1)+".0.0"),R("caret return",c),c})}function Vi(e,t){return R("replaceXRanges",e,t),e.split(/\s+/).map(function(r){return zi(r,t)}).join(" ")}function zi(e,t){e=e.trim();var r=t.loose?w[l.XRANGELOOSE]:w[l.XRANGE];return e.replace(r,function(i,n,s,o,a,c){R("xRange",e,i,n,s,o,a,c);var h=N(s),u=h||N(o),d=u||N(a),g=d;return n==="="&&g&&(n=""),c=t.includePrerelease?"-0":"",h?n===">"||n==="<"?i="<0.0.0-0":i="*":n&&g?(u&&(o=0),a=0,n===">"?(n=">=",u?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):n==="<="&&(n="<",u?s=+s+1:o=+o+1),i=n+s+"."+o+"."+a+c):u?i=">="+s+".0.0"+c+" <"+(+s+1)+".0.0"+c:d&&(i=">="+s+"."+o+".0"+c+" <"+s+"."+(+o+1)+".0"+c),R("xRange return",i),i})}function Xi(e,t){return R("replaceStars",e,t),e.trim().replace(w[l.STAR],"")}function Ui(e,t,r,i,n,s,o,a,c,h,u,d,g){return N(r)?t="":N(i)?t=">="+r+".0.0":N(n)?t=">="+r+"."+i+".0":t=">="+t,N(c)?a="":N(h)?a="<"+(+c+1)+".0.0":N(u)?a="<"+c+"."+(+h+1)+".0":d?a="<="+c+"."+h+"."+u+"-"+d:a="<="+a,(t+" "+a).trim()}_.prototype.test=function(e){if(!e)return!1;if(typeof e=="string")try{e=new m(e,this.options)}catch(r){return!1}for(var t=0;t<this.set.length;t++)if(Ji(this.set[t],e,this.options))return!0;return!1};function Ji(e,t,r){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(i=0;i<e.length;i++){if(R(e[i].semver),e[i].semver===ue)continue;if(e[i].semver.prerelease.length>0){var n=e[i].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}}return!1}return!0}p.satisfies=Le;function Le(e,t,r){try{t=new _(t,r)}catch(i){return!1}return t.test(e)}p.maxSatisfying=Yi;function Yi(e,t,r){var i=null,n=null;try{var s=new _(t,r)}catch(o){return null}return e.forEach(function(o){s.test(o)&&((!i||n.compare(o)===-1)&&(i=o,n=new m(i,r)))}),i}p.minSatisfying=Qi;function Qi(e,t,r){var i=null,n=null;try{var s=new _(t,r)}catch(o){return null}return e.forEach(function(o){s.test(o)&&((!i||n.compare(o)===1)&&(i=o,n=new m(i,r)))}),i}p.minVersion=Zi;function Zi(e,t){e=new _(e,t);var r=new m("0.0.0");if(e.test(r))return r;if(r=new m("0.0.0-0"),e.test(r))return r;r=null;for(var i=0;i<e.set.length;++i){var n=e.set[i];n.forEach(function(s){var o=new m(s.semver.version);switch(s.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!r||ge(r,o))&&(r=o);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+s.operator)}})}return r&&e.test(r)?r:null}p.validRange=Ki;function Ki(e,t){try{return new _(e,t).range||"*"}catch(r){return null}}p.ltr=en;function en(e,t,r){return rt(e,t,"<",r)}p.gtr=tn;function tn(e,t,r){return rt(e,t,">",r)}p.outside=rt;function rt(e,t,r,i){e=new m(e,i),t=new _(t,i);var n,s,o,a,c;switch(r){case">":n=ge,s=tt,o=Ne,a=">",c=">=";break;case"<":n=Ne,s=et,o=ge,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Le(e,t,i))return!1;for(var h=0;h<t.set.length;++h){var u=t.set[h],d=null,g=null;if(u.forEach(function(C){C.semver===ue&&(C=new $(">=0.0.0")),d=d||C,g=g||C,n(C.semver,d.semver,i)?d=C:o(C.semver,g.semver,i)&&(g=C)}),d.operator===a||d.operator===c)return!1;if((!g.operator||g.operator===a)&&s(e,g.semver))return!1;if(g.operator===c&&o(e,g.semver))return!1}return!0}p.prerelease=rn;function rn(e,t){var r=ie(e,t);return r&&r.prerelease.length?r.prerelease:null}p.intersects=nn;function nn(e,t,r){return e=new _(e,r),t=new _(t,r),e.intersects(t)}p.coerce=sn;function sn(e,t){if(e instanceof m)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};var r=null;if(!t.rtl)r=e.match(w[l.COERCE]);else{for(var i;(i=w[l.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||i.index+i[0].length!==r.index+r[0].length)&&(r=i),w[l.COERCERTL].lastIndex=i.index+i[1].length+i[2].length;w[l.COERCERTL].lastIndex=-1}return r===null?null:ie(r[2]+"."+(r[3]||"0")+"."+(r[4]||"0"),t)}}),Bt=I((H,nt)=>{"use strict";var on=H&&H.__awaiter||function(e,t,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{h(i.next(u))}catch(d){o(d)}}function c(u){try{h(i.throw(u))}catch(d){o(d)}}function h(u){u.done?s(u.value):n(u.value).then(a,c)}h((i=i.apply(e,t||[])).next())})},an=H&&H.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(H,"__esModule",{value:!0});const Ut=an(it()),st=M(),Mt=require("os"),cn=require("child_process"),Gt=require("fs");function ln(e,t,r,i){return on(this,void 0,void 0,function*(){const n=Mt.platform();let s,o,a;for(const c of r){const h=c.version;if(st.debug(`check ${h} satisfies ${e}`),Ut.satisfies(h,e)&&(!t||c.stable===t)&&(a=c.files.find(u=>{st.debug(`${u.arch}===${i} && ${u.platform}===${n}`);let d=u.arch===i&&u.platform===n;if(d&&u.platform_version){const g=nt.exports._getOsVersion();g===u.platform_version?d=!0:d=Ut.satisfies(g,u.platform_version)}return d}),a)){st.debug(`matched ${c.version}`),o=c;break}}return o&&a&&(s=Object.assign({},o),s.files=[a]),s})}H._findMatch=ln;function un(){const e=Mt.platform();let t="";if(e==="darwin")t=cn.execSync("sw_vers -productVersion").toString();else if(e==="linux"){const r=nt.exports._readLinuxVersionFile();if(r){const i=r.split(`
`);for(const n of i){const s=n.split("=");if(s.length===2&&s[0].trim()==="DISTRIB_RELEASE"){t=s[1].trim();break}}}}return t}H._getOsVersion=un;function fn(){const e="/etc/lsb-release";let t="";return Gt.existsSync(e)&&(t=Gt.readFileSync(e).toString()),t}H._readLinuxVersionFile=fn}),Xt=I(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});function hn(e){let t=e.protocol==="https:",r;if(Vt(e))return r;let i;return t?i=process.env.https_proxy||process.env.HTTPS_PROXY:i=process.env.http_proxy||process.env.HTTP_PROXY,i&&(r=new URL(i)),r}Pe.getProxyUrl=hn;function Vt(e){if(!e.hostname)return!1;let t=process.env.no_proxy||process.env.NO_PROXY||"";if(!t)return!1;let r;e.port?r=Number(e.port):e.protocol==="http:"?r=80:e.protocol==="https:"&&(r=443);let i=[e.hostname.toUpperCase()];typeof r=="number"&&i.push(`${i[0]}:${r}`);for(let n of t.split(",").map(s=>s.trim().toUpperCase()).filter(s=>s))if(i.some(s=>s===n))return!0;return!1}Pe.checkBypass=Vt}),Jt=I(fe=>{"use strict";var Rs=require("net"),dn=require("tls"),ot=require("http"),Wt=require("https"),pn=require("events"),Os=require("assert"),mn=require("util");fe.httpOverHttp=En;fe.httpsOverHttp=yn;fe.httpOverHttps=vn;fe.httpsOverHttps=wn;function En(e){var t=new z(e);return t.request=ot.request,t}function yn(e){var t=new z(e);return t.request=ot.request,t.createSocket=Ht,t.defaultPort=443,t}function vn(e){var t=new z(e);return t.request=Wt.request,t}function wn(e){var t=new z(e);return t.request=Wt.request,t.createSocket=Ht,t.defaultPort=443,t}function z(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||ot.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(i,n,s,o){for(var a=zt(n,s,o),c=0,h=t.requests.length;c<h;++c){var u=t.requests[c];if(u.host===a.host&&u.port===a.port){t.requests.splice(c,1),u.request.onSocket(i);return}}i.destroy(),t.removeSocket(i)})}mn.inherits(z,pn.EventEmitter);z.prototype.addRequest=function(t,r,i,n){var s=this,o=at({request:t},s.options,zt(r,i,n));if(s.sockets.length>=this.maxSockets){s.requests.push(o);return}s.createSocket(o,function(a){a.on("free",c),a.on("close",h),a.on("agentRemove",h),t.onSocket(a);function c(){s.emit("free",a,o)}function h(u){s.removeSocket(a),a.removeListener("free",c),a.removeListener("close",h),a.removeListener("agentRemove",h)}})};z.prototype.createSocket=function(t,r){var i=this,n={};i.sockets.push(n);var s=at({},i.proxyOptions,{method:"CONNECT",path:t.host+":"+t.port,agent:!1,headers:{host:t.host+":"+t.port}});t.localAddress&&(s.localAddress=t.localAddress),s.proxyAuth&&(s.headers=s.headers||{},s.headers["Proxy-Authorization"]="Basic "+new Buffer(s.proxyAuth).toString("base64")),Y("making CONNECT request");var o=i.request(s);o.useChunkedEncodingByDefault=!1,o.once("response",a),o.once("upgrade",c),o.once("connect",h),o.once("error",u),o.end();function a(d){d.upgrade=!0}function c(d,g,C){process.nextTick(function(){h(d,g,C)})}function h(d,g,C){if(o.removeAllListeners(),g.removeAllListeners(),d.statusCode!==200){Y("tunneling socket could not be established, statusCode=%d",d.statusCode),g.destroy();var ve=new Error("tunneling socket could not be established, statusCode="+d.statusCode);ve.code="ECONNRESET",t.request.emit("error",ve),i.removeSocket(n);return}if(C.length>0){Y("got illegal response body from proxy"),g.destroy();var ve=new Error("got illegal response body from proxy");ve.code="ECONNRESET",t.request.emit("error",ve),i.removeSocket(n);return}return Y("tunneling connection has established"),i.sockets[i.sockets.indexOf(n)]=g,r(g)}function u(d){o.removeAllListeners(),Y(`tunneling socket could not be established, cause=%s
`,d.message,d.stack);var g=new Error("tunneling socket could not be established, cause="+d.message);g.code="ECONNRESET",t.request.emit("error",g),i.removeSocket(n)}};z.prototype.removeSocket=function(t){var r=this.sockets.indexOf(t);if(r===-1)return;this.sockets.splice(r,1);var i=this.requests.shift();i&&this.createSocket(i,function(n){i.request.onSocket(n)})};function Ht(e,t){var r=this;z.prototype.createSocket.call(r,e,function(i){var n=e.request.getHeader("host"),s=at({},r.options,{socket:i,servername:n?n.replace(/:.*$/,""):e.host}),o=dn.connect(0,s);r.sockets[r.sockets.indexOf(i)]=o,t(o)})}function zt(e,t,r){return typeof e=="string"?{host:e,port:t,localAddress:r}:e}function at(e){for(var t=1,r=arguments.length;t<r;++t){var i=arguments[t];if(typeof i=="object")for(var n=Object.keys(i),s=0,o=n.length;s<o;++s){var a=n[s];i[a]!==void 0&&(e[a]=i[a])}}return e}var Y;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?Y=function(){var e=Array.prototype.slice.call(arguments);typeof e[0]=="string"?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:Y=function(){};fe.debug=Y}),Qt=I((_s,Yt)=>{Yt.exports=Jt()}),tr=I(P=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});const be=require("http"),ct=require("https"),Zt=Xt();let he;var j;(function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"})(j=P.HttpCodes||(P.HttpCodes={}));var x;(function(e){e.Accept="accept",e.ContentType="content-type"})(x=P.Headers||(P.Headers={}));var Q;(function(e){e.ApplicationJson="application/json"})(Q=P.MediaTypes||(P.MediaTypes={}));function gn(e){let t=Zt.getProxyUrl(new URL(e));return t?t.href:""}P.getProxyUrl=gn;const Rn=[j.MovedPermanently,j.ResourceMoved,j.SeeOther,j.TemporaryRedirect,j.PermanentRedirect],On=[j.BadGateway,j.ServiceUnavailable,j.GatewayTimeout],Sn=["OPTIONS","GET","DELETE","HEAD"],_n=10,Tn=5;class lt extends Error{constructor(e,t){super(e);this.name="HttpClientError",this.statusCode=t,Object.setPrototypeOf(this,lt.prototype)}}P.HttpClientError=lt;class Kt{constructor(e){this.message=e}readBody(){return new Promise(async(e,t)=>{let r=Buffer.alloc(0);this.message.on("data",i=>{r=Buffer.concat([r,i])}),this.message.on("end",()=>{e(r.toString())})})}}P.HttpClientResponse=Kt;function In(e){let t=new URL(e);return t.protocol==="https:"}P.isHttps=In;class er{constructor(e,t,r){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=e,this.handlers=t||[],this.requestOptions=r,r&&(r.ignoreSslError!=null&&(this._ignoreSslError=r.ignoreSslError),this._socketTimeout=r.socketTimeout,r.allowRedirects!=null&&(this._allowRedirects=r.allowRedirects),r.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=r.allowRedirectDowngrade),r.maxRedirects!=null&&(this._maxRedirects=Math.max(r.maxRedirects,0)),r.keepAlive!=null&&(this._keepAlive=r.keepAlive),r.allowRetries!=null&&(this._allowRetries=r.allowRetries),r.maxRetries!=null&&(this._maxRetries=r.maxRetries))}options(e,t){return this.request("OPTIONS",e,null,t||{})}get(e,t){return this.request("GET",e,null,t||{})}del(e,t){return this.request("DELETE",e,null,t||{})}post(e,t,r){return this.request("POST",e,t,r||{})}patch(e,t,r){return this.request("PATCH",e,t,r||{})}put(e,t,r){return this.request("PUT",e,t,r||{})}head(e,t){return this.request("HEAD",e,null,t||{})}sendStream(e,t,r,i){return this.request(e,t,r,i)}async getJson(e,t={}){t[x.Accept]=this._getExistingOrDefaultHeader(t,x.Accept,Q.ApplicationJson);let r=await this.get(e,t);return this._processResponse(r,this.requestOptions)}async postJson(e,t,r={}){let i=JSON.stringify(t,null,2);r[x.Accept]=this._getExistingOrDefaultHeader(r,x.Accept,Q.ApplicationJson),r[x.ContentType]=this._getExistingOrDefaultHeader(r,x.ContentType,Q.ApplicationJson);let n=await this.post(e,i,r);return this._processResponse(n,this.requestOptions)}async putJson(e,t,r={}){let i=JSON.stringify(t,null,2);r[x.Accept]=this._getExistingOrDefaultHeader(r,x.Accept,Q.ApplicationJson),r[x.ContentType]=this._getExistingOrDefaultHeader(r,x.ContentType,Q.ApplicationJson);let n=await this.put(e,i,r);return this._processResponse(n,this.requestOptions)}async patchJson(e,t,r={}){let i=JSON.stringify(t,null,2);r[x.Accept]=this._getExistingOrDefaultHeader(r,x.Accept,Q.ApplicationJson),r[x.ContentType]=this._getExistingOrDefaultHeader(r,x.ContentType,Q.ApplicationJson);let n=await this.patch(e,i,r);return this._processResponse(n,this.requestOptions)}async request(e,t,r,i){if(this._disposed)throw new Error("Client has already been disposed.");let n=new URL(t),s=this._prepareRequest(e,n,i),o=this._allowRetries&&Sn.indexOf(e)!=-1?this._maxRetries+1:1,a=0,c;for(;a<o;){if(c=await this.requestRaw(s,r),c&&c.message&&c.message.statusCode===j.Unauthorized){let u;for(let d=0;d<this.handlers.length;d++)if(this.handlers[d].canHandleAuthentication(c)){u=this.handlers[d];break}return u?u.handleAuthentication(this,s,r):c}let h=this._maxRedirects;for(;Rn.indexOf(c.message.statusCode)!=-1&&this._allowRedirects&&h>0;){const u=c.message.headers.location;if(!u)break;let d=new URL(u);if(n.protocol=="https:"&&n.protocol!=d.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(await c.readBody(),d.hostname!==n.hostname)for(let g in i)g.toLowerCase()==="authorization"&&delete i[g];s=this._prepareRequest(e,d,i),c=await this.requestRaw(s,r),h--}if(On.indexOf(c.message.statusCode)==-1)return c;a+=1,a<o&&(await c.readBody(),await this._performExponentialBackoff(a))}return c}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(e,t){return new Promise((r,i)=>{let n=function(s,o){s&&i(s),r(o)};this.requestRawWithCallback(e,t,n)})}requestRawWithCallback(e,t,r){let i;typeof t=="string"&&(e.options.headers["Content-Length"]=Buffer.byteLength(t,"utf8"));let n=!1,s=(a,c)=>{n||(n=!0,r(a,c))},o=e.httpModule.request(e.options,a=>{let c=new Kt(a);s(null,c)});o.on("socket",a=>{i=a}),o.setTimeout(this._socketTimeout||3*6e4,()=>{i&&i.end(),s(new Error("Request timeout: "+e.options.path),null)}),o.on("error",function(a){s(a,null)}),t&&typeof t=="string"&&o.write(t,"utf8"),t&&typeof t!="string"?(t.on("close",function(){o.end()}),t.pipe(o)):o.end()}getAgent(e){let t=new URL(e);return this._getAgent(t)}_prepareRequest(e,t,r){const i={};i.parsedUrl=t;const n=i.parsedUrl.protocol==="https:";i.httpModule=n?ct:be;const s=n?443:80;return i.options={},i.options.host=i.parsedUrl.hostname,i.options.port=i.parsedUrl.port?parseInt(i.parsedUrl.port):s,i.options.path=(i.parsedUrl.pathname||"")+(i.parsedUrl.search||""),i.options.method=e,i.options.headers=this._mergeHeaders(r),this.userAgent!=null&&(i.options.headers["user-agent"]=this.userAgent),i.options.agent=this._getAgent(i.parsedUrl),this.handlers&&this.handlers.forEach(o=>{o.prepareRequest(i.options)}),i}_mergeHeaders(e){const t=r=>Object.keys(r).reduce((i,n)=>(i[n.toLowerCase()]=r[n],i),{});return this.requestOptions&&this.requestOptions.headers?Object.assign({},t(this.requestOptions.headers),t(e)):t(e||{})}_getExistingOrDefaultHeader(e,t,r){const i=s=>Object.keys(s).reduce((o,a)=>(o[a.toLowerCase()]=s[a],o),{});let n;return this.requestOptions&&this.requestOptions.headers&&(n=i(this.requestOptions.headers)[t]),e[t]||n||r}_getAgent(e){let t,r=Zt.getProxyUrl(e),i=r&&r.hostname;if(this._keepAlive&&i&&(t=this._proxyAgent),this._keepAlive&&!i&&(t=this._agent),t)return t;const n=e.protocol==="https:";let s=100;if(this.requestOptions&&(s=this.requestOptions.maxSockets||be.globalAgent.maxSockets),i){he||(he=Qt());const o={maxSockets:s,keepAlive:this._keepAlive,proxy:{proxyAuth:`${r.username}:${r.password}`,host:r.hostname,port:r.port}};let a;const c=r.protocol==="https:";n?a=c?he.httpsOverHttps:he.httpsOverHttp:a=c?he.httpOverHttps:he.httpOverHttp,t=a(o),this._proxyAgent=t}if(this._keepAlive&&!t){const o={keepAlive:this._keepAlive,maxSockets:s};t=n?new ct.Agent(o):new be.Agent(o),this._agent=t}return t||(t=n?ct.globalAgent:be.globalAgent),n&&this._ignoreSslError&&(t.options=Object.assign(t.options||{},{rejectUnauthorized:!1})),t}_performExponentialBackoff(e){e=Math.min(_n,e);const t=Tn*Math.pow(2,e);return new Promise(r=>setTimeout(()=>r(),t))}static dateTimeDeserializer(e,t){if(typeof t=="string"){let r=new Date(t);if(!isNaN(r.valueOf()))return r}return t}async _processResponse(e,t){return new Promise(async(r,i)=>{const n=e.message.statusCode,s={statusCode:n,result:null,headers:{}};n==j.NotFound&&r(s);let o,a;try{a=await e.readBody(),a&&a.length>0&&(t&&t.deserializeDates?o=JSON.parse(a,er.dateTimeDeserializer):o=JSON.parse(a),s.result=o),s.headers=e.message.headers}catch(c){}if(n>299){let c;o&&o.message?c=o.message:a&&a.length>0?c=a:c="Failed request: ("+n+")";let h=new lt(c,n);h.result=s.result,i(h)}else r(s)})}}P.HttpClient=er}),ir=I((Is,rr)=>{var An=require("crypto");rr.exports=function(){return An.randomBytes(16)}}),or=I((As,nr)=>{var sr=[];for(var Ce=0;Ce<256;++Ce)sr[Ce]=(Ce+256).toString(16).substr(1);function Nn(e,t){var r=t||0,i=sr;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}nr.exports=Nn}),cr=I((Ns,ar)=>{var xn=ir(),Ln=or();function Pn(e,t,r){var i=t&&r||0;typeof e=="string"&&(t=e==="binary"?new Array(16):null,e=null),e=e||{};var n=e.random||(e.rng||xn)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t)for(var s=0;s<16;++s)t[i+s]=n[s];return t||Ln(n)}ar.exports=Pn}),fr=I(Z=>{"use strict";var bn=Z&&Z.__awaiter||function(e,t,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{h(i.next(u))}catch(d){o(d)}}function c(u){try{h(i.throw(u))}catch(d){o(d)}}function h(u){u.done?s(u.value):n(u.value).then(a,c)}h((i=i.apply(e,t||[])).next())})},de=Z&&Z.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(Z,"__esModule",{value:!0});const De=de(require("os")),lr=de(require("events")),Cn=de(require("child_process")),Dn=de(require("path")),$n=de(Ie()),qn=de(ze()),$e=process.platform==="win32";class Fn extends lr.EventEmitter{constructor(e,t,r){super();if(!e)throw new Error("Parameter 'toolPath' cannot be null or empty.");this.toolPath=e,this.args=t||[],this.options=r||{}}_debug(e){this.options.listeners&&this.options.listeners.debug&&this.options.listeners.debug(e)}_getCommandString(e,t){const r=this._getSpawnFileName(),i=this._getSpawnArgs(e);let n=t?"":"[command]";if($e)if(this._isCmdFile()){n+=r;for(const s of i)n+=` ${s}`}else if(e.windowsVerbatimArguments){n+=`"${r}"`;for(const s of i)n+=` ${s}`}else{n+=this._windowsQuoteCmdArg(r);for(const s of i)n+=` ${this._windowsQuoteCmdArg(s)}`}else{n+=r;for(const s of i)n+=` ${s}`}return n}_processLineBuffer(e,t,r){try{let i=t+e.toString(),n=i.indexOf(De.EOL);for(;n>-1;){const s=i.substring(0,n);r(s),i=i.substring(n+De.EOL.length),n=i.indexOf(De.EOL)}t=i}catch(i){this._debug(`error processing line. Failed with error ${i}`)}}_getSpawnFileName(){return $e&&this._isCmdFile()?process.env.COMSPEC||"cmd.exe":this.toolPath}_getSpawnArgs(e){if($e&&this._isCmdFile()){let t=`/D /S /C "${this._windowsQuoteCmdArg(this.toolPath)}`;for(const r of this.args)t+=" ",t+=e.windowsVerbatimArguments?r:this._windowsQuoteCmdArg(r);return t+='"',[t]}return this.args}_endsWith(e,t){return e.endsWith(t)}_isCmdFile(){const e=this.toolPath.toUpperCase();return this._endsWith(e,".CMD")||this._endsWith(e,".BAT")}_windowsQuoteCmdArg(e){if(!this._isCmdFile())return this._uvQuoteCmdArg(e);if(!e)return'""';const t=[" ","	","&","(",")","[","]","{","}","^","=",";","!","'","+",",","`","~","|","<",">",'"'];let r=!1;for(const s of e)if(t.some(o=>o===s)){r=!0;break}if(!r)return e;let i='"',n=!0;for(let s=e.length;s>0;s--)i+=e[s-1],n&&e[s-1]==="\\"?i+="\\":e[s-1]==='"'?(n=!0,i+='"'):n=!1;return i+='"',i.split("").reverse().join("")}_uvQuoteCmdArg(e){if(!e)return'""';if(!e.includes(" ")&&!e.includes("	")&&!e.includes('"'))return e;if(!e.includes('"')&&!e.includes("\\"))return`"${e}"`;let t='"',r=!0;for(let i=e.length;i>0;i--)t+=e[i-1],r&&e[i-1]==="\\"?t+="\\":e[i-1]==='"'?(r=!0,t+="\\"):r=!1;return t+='"',t.split("").reverse().join("")}_cloneExecOptions(e){e=e||{};const t={cwd:e.cwd||process.cwd(),env:e.env||process.env,silent:e.silent||!1,windowsVerbatimArguments:e.windowsVerbatimArguments||!1,failOnStdErr:e.failOnStdErr||!1,ignoreReturnCode:e.ignoreReturnCode||!1,delay:e.delay||1e4};return t.outStream=e.outStream||process.stdout,t.errStream=e.errStream||process.stderr,t}_getSpawnOptions(e,t){e=e||{};const r={};return r.cwd=e.cwd,r.env=e.env,r.windowsVerbatimArguments=e.windowsVerbatimArguments||this._isCmdFile(),e.windowsVerbatimArguments&&(r.argv0=`"${t}"`),r}exec(){return bn(this,void 0,void 0,function*(){return!qn.isRooted(this.toolPath)&&(this.toolPath.includes("/")||$e&&this.toolPath.includes("\\"))&&(this.toolPath=Dn.resolve(process.cwd(),this.options.cwd||process.cwd(),this.toolPath)),this.toolPath=yield $n.which(this.toolPath,!0),new Promise((e,t)=>{this._debug(`exec tool: ${this.toolPath}`),this._debug("arguments:");for(const c of this.args)this._debug(`   ${c}`);const r=this._cloneExecOptions(this.options);!r.silent&&r.outStream&&r.outStream.write(this._getCommandString(r)+De.EOL);const i=new ur(r,this.toolPath);i.on("debug",c=>{this._debug(c)});const n=this._getSpawnFileName(),s=Cn.spawn(n,this._getSpawnArgs(r),this._getSpawnOptions(this.options,n)),o="";s.stdout&&s.stdout.on("data",c=>{this.options.listeners&&this.options.listeners.stdout&&this.options.listeners.stdout(c),!r.silent&&r.outStream&&r.outStream.write(c),this._processLineBuffer(c,o,h=>{this.options.listeners&&this.options.listeners.stdline&&this.options.listeners.stdline(h)})});const a="";if(s.stderr&&s.stderr.on("data",c=>{if(i.processStderr=!0,this.options.listeners&&this.options.listeners.stderr&&this.options.listeners.stderr(c),!r.silent&&r.errStream&&r.outStream){const h=r.failOnStdErr?r.errStream:r.outStream;h.write(c)}this._processLineBuffer(c,a,h=>{this.options.listeners&&this.options.listeners.errline&&this.options.listeners.errline(h)})}),s.on("error",c=>{i.processError=c.message,i.processExited=!0,i.processClosed=!0,i.CheckComplete()}),s.on("exit",c=>{i.processExitCode=c,i.processExited=!0,this._debug(`Exit code ${c} received from tool '${this.toolPath}'`),i.CheckComplete()}),s.on("close",c=>{i.processExitCode=c,i.processExited=!0,i.processClosed=!0,this._debug(`STDIO streams have closed for tool '${this.toolPath}'`),i.CheckComplete()}),i.on("done",(c,h)=>{o.length>0&&this.emit("stdline",o),a.length>0&&this.emit("errline",a),s.removeAllListeners(),c?t(c):e(h)}),this.options.input){if(!s.stdin)throw new Error("child process missing stdin");s.stdin.end(this.options.input)}})})}}Z.ToolRunner=Fn;function kn(e){const t=[];let r=!1,i=!1,n="";function s(o){i&&o!=='"'&&(n+="\\"),n+=o,i=!1}for(let o=0;o<e.length;o++){const a=e.charAt(o);if(a==='"'){i?s(a):r=!r;continue}if(a==="\\"&&i){s(a);continue}if(a==="\\"&&r){i=!0;continue}if(a===" "&&!r){n.length>0&&(t.push(n),n="");continue}s(a)}return n.length>0&&t.push(n.trim()),t}Z.argStringToArray=kn;class ur extends lr.EventEmitter{constructor(e,t){super();if(this.processClosed=!1,this.processError="",this.processExitCode=0,this.processExited=!1,this.processStderr=!1,this.delay=1e4,this.done=!1,this.timeout=null,!t)throw new Error("toolPath must not be empty");this.options=e,this.toolPath=t,e.delay&&(this.delay=e.delay)}CheckComplete(){if(this.done)return;this.processClosed?this._setResult():this.processExited&&(this.timeout=setTimeout(ur.HandleTimeout,this.delay,this))}_debug(e){this.emit("debug",e)}_setResult(){let e;this.processExited&&(this.processError?e=new Error(`There was an error when attempting to execute the process '${this.toolPath}'. This may indicate the process failed to start. Error: ${this.processError}`):this.processExitCode!==0&&!this.options.ignoreReturnCode?e=new Error(`The process '${this.toolPath}' failed with exit code ${this.processExitCode}`):this.processStderr&&this.options.failOnStdErr&&(e=new Error(`The process '${this.toolPath}' failed because one or more lines were written to the STDERR stream`))),this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.done=!0,this.emit("done",e,this.processExitCode)}static HandleTimeout(e){if(e.done)return;if(!e.processClosed&&e.processExited){const t=`The STDIO streams did not close within ${e.delay/1e3} seconds of the exit event from process '${e.toolPath}'. This may indicate a child process inherited the STDIO streams and has not yet exited.`;e._debug(t)}e._setResult()}}}),dr=I(se=>{"use strict";var jn=se&&se.__awaiter||function(e,t,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{h(i.next(u))}catch(d){o(d)}}function c(u){try{h(i.throw(u))}catch(d){o(d)}}function h(u){u.done?s(u.value):n(u.value).then(a,c)}h((i=i.apply(e,t||[])).next())})},Un=se&&se.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(se,"__esModule",{value:!0});const hr=Un(fr());function Mn(e,t,r){return jn(this,void 0,void 0,function*(){const i=hr.argStringToArray(e);if(i.length===0)throw new Error("Parameter 'commandLine' cannot be null or empty.");const n=i[0];t=i.slice(1).concat(t||[]);const s=new hr.ToolRunner(n,t,r);return s.exec()})}se.exec=Mn}),Er=I(oe=>{"use strict";var pr=oe&&oe.__awaiter||function(e,t,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{h(i.next(u))}catch(d){o(d)}}function c(u){try{h(i.throw(u))}catch(d){o(d)}}function h(u){u.done?s(u.value):n(u.value).then(a,c)}h((i=i.apply(e,t||[])).next())})},Gn=oe&&oe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(oe,"__esModule",{value:!0});const mr=Gn(M());class Bn{constructor(e,t,r){if(e<1)throw new Error("max attempts should be greater than or equal to 1");if(this.maxAttempts=e,this.minSeconds=Math.floor(t),this.maxSeconds=Math.floor(r),this.minSeconds>this.maxSeconds)throw new Error("min seconds should be less than or equal to max seconds")}execute(e,t){return pr(this,void 0,void 0,function*(){let r=1;for(;r<this.maxAttempts;){try{return yield e()}catch(n){if(t&&!t(n))throw n;mr.info(n.message)}const i=this.getSleepAmount();mr.info(`Waiting ${i} seconds before trying again`),yield this.sleep(i),r++}return yield e()})}getSleepAmount(){return Math.floor(Math.random()*(this.maxSeconds-this.minSeconds+1))+this.minSeconds}sleep(e){return pr(this,void 0,void 0,function*(){return new Promise(t=>setTimeout(t,e*1e3))})}}oe.RetryHelper=Bn}),Oe=I(T=>{"use strict";var L=T&&T.__awaiter||function(e,t,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{h(i.next(u))}catch(d){o(d)}}function c(u){try{h(i.throw(u))}catch(d){o(d)}}function h(u){u.done?s(u.value):n(u.value).then(a,c)}h((i=i.apply(e,t||[])).next())})},G=T&&T.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},Vn=T&&T.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(T,"__esModule",{value:!0});const O=G(M()),q=G(Ie()),F=G(require("fs")),Xn=G(Bt()),Re=G(require("os")),U=G(require("path")),yr=G(tr()),J=G(it()),Wn=G(require("stream")),Hn=G(require("util")),vr=Vn(cr()),ae=dr(),pe=require("assert"),zn=Er();class ut extends Error{constructor(e){super(`Unexpected HTTP response: ${e}`);this.httpStatusCode=e,Object.setPrototypeOf(this,new.target.prototype)}}T.HTTPError=ut;const ft=process.platform==="win32",Jn=process.platform==="darwin",Yn="actions/tool-cache";function Zn(e,t,r){return L(this,void 0,void 0,function*(){t=t||U.join(wr(),vr.default()),yield q.mkdirP(U.dirname(t)),O.debug(`Downloading ${e}`),O.debug(`Destination ${t}`);const i=3,n=ht("TEST_DOWNLOAD_TOOL_RETRY_MIN_SECONDS",10),s=ht("TEST_DOWNLOAD_TOOL_RETRY_MAX_SECONDS",20),o=new zn.RetryHelper(i,n,s);return yield o.execute(()=>L(this,void 0,void 0,function*(){return yield Qn(e,t||"",r)}),a=>!(a instanceof ut&&a.httpStatusCode&&(a.httpStatusCode<500&&a.httpStatusCode!==408&&a.httpStatusCode!==429)))})}T.downloadTool=Zn;function Qn(e,t,r){return L(this,void 0,void 0,function*(){if(F.existsSync(t))throw new Error(`Destination file path ${t} already exists`);const i=new yr.HttpClient(Yn,[],{allowRetries:!1});let n;r&&(O.debug("set auth"),n={authorization:r});const s=yield i.get(e,n);if(s.message.statusCode!==200){const u=new ut(s.message.statusCode);throw O.debug(`Failed to download from "${e}". Code(${s.message.statusCode}) Message(${s.message.statusMessage})`),u}const o=Hn.promisify(Wn.pipeline),a=ht("TEST_DOWNLOAD_TOOL_RESPONSE_MESSAGE_FACTORY",()=>s.message),c=a();let h=!1;try{return yield o(c,F.createWriteStream(t)),O.debug("download complete"),h=!0,t}finally{if(!h){O.debug("download failed");try{yield q.rmRF(t)}catch(u){O.debug(`Failed to delete '${t}'. ${u.message}`)}}}})}function Kn(e,t,r){return L(this,void 0,void 0,function*(){pe.ok(ft,"extract7z() not supported on current OS"),pe.ok(e,'parameter "file" is required'),t=yield qe(t);const i=process.cwd();if(process.chdir(t),r)try{const n=O.isDebug()?"-bb1":"-bb0",s=["x",n,"-bd","-sccUTF-8",e],o={silent:!0};yield ae.exec(`"${r}"`,s,o)}finally{process.chdir(i)}else{const n=U.join(__dirname,"..","scripts","Invoke-7zdec.ps1").replace(/'/g,"''").replace(/"|\n|\r/g,""),s=e.replace(/'/g,"''").replace(/"|\n|\r/g,""),o=t.replace(/'/g,"''").replace(/"|\n|\r/g,""),a=`& '${n}' -Source '${s}' -Target '${o}'`,c=["-NoLogo","-Sta","-NoProfile","-NonInteractive","-ExecutionPolicy","Unrestricted","-Command",a],h={silent:!0};try{const u=yield q.which("powershell",!0);yield ae.exec(`"${u}"`,c,h)}finally{process.chdir(i)}}return t})}T.extract7z=Kn;function es(e,t,r="xz"){return L(this,void 0,void 0,function*(){if(!e)throw new Error("parameter 'file' is required");t=yield qe(t),O.debug("Checking tar --version");let i="";yield ae.exec("tar --version",[],{ignoreReturnCode:!0,silent:!0,listeners:{stdout:c=>i+=c.toString(),stderr:c=>i+=c.toString()}}),O.debug(i.trim());const n=i.toUpperCase().includes("GNU TAR");let s;r instanceof Array?s=r:s=[r],O.isDebug()&&!r.includes("v")&&s.push("-v");let o=t,a=e;return ft&&n&&(s.push("--force-local"),o=t.replace(/\\/g,"/"),a=e.replace(/\\/g,"/")),n&&s.push("--warning=no-unknown-keyword"),s.push("-C",o,"-f",a),yield ae.exec("tar",s),t})}T.extractTar=es;function rs(e,t,r=[]){return L(this,void 0,void 0,function*(){pe.ok(Jn,"extractXar() not supported on current OS"),pe.ok(e,'parameter "file" is required'),t=yield qe(t);let i;r instanceof Array?i=r:i=[r],i.push("-x","-C",t,"-f",e),O.isDebug()&&i.push("-v");const n=yield q.which("xar",!0);return yield ae.exec(`"${n}"`,ts(i)),t})}T.extractXar=rs;function ss(e,t){return L(this,void 0,void 0,function*(){if(!e)throw new Error("parameter 'file' is required");return t=yield qe(t),ft?yield is(e,t):yield ns(e,t),t})}T.extractZip=ss;function is(e,t){return L(this,void 0,void 0,function*(){const r=e.replace(/'/g,"''").replace(/"|\n|\r/g,""),i=t.replace(/'/g,"''").replace(/"|\n|\r/g,""),n=`$ErrorActionPreference = 'Stop' ; try { Add-Type -AssemblyName System.IO.Compression.FileSystem } catch { } ; [System.IO.Compression.ZipFile]::ExtractToDirectory('${r}', '${i}')`,s=yield q.which("powershell",!0),o=["-NoLogo","-Sta","-NoProfile","-NonInteractive","-ExecutionPolicy","Unrestricted","-Command",n];yield ae.exec(`"${s}"`,o)})}function ns(e,t){return L(this,void 0,void 0,function*(){const r=yield q.which("unzip",!0),i=[e];O.isDebug()||i.unshift("-q"),yield ae.exec(`"${r}"`,i,{cwd:t})})}function os(e,t,r,i){return L(this,void 0,void 0,function*(){if(r=J.clean(r)||r,i=i||Re.arch(),O.debug(`Caching tool ${t} ${r} ${i}`),O.debug(`source dir: ${e}`),!F.statSync(e).isDirectory())throw new Error("sourceDir is not a directory");const n=yield gr(t,r,i);for(const s of F.readdirSync(e)){const o=U.join(e,s);yield q.cp(o,n,{recursive:!0})}return Rr(t,r,i),n})}T.cacheDir=os;function as(e,t,r,i,n){return L(this,void 0,void 0,function*(){if(i=J.clean(i)||i,n=n||Re.arch(),O.debug(`Caching tool ${r} ${i} ${n}`),O.debug(`source file: ${e}`),!F.statSync(e).isFile())throw new Error("sourceFile is not a file");const s=yield gr(r,i,n),o=U.join(s,t);return O.debug(`destination file ${o}`),yield q.cp(e,o),Rr(r,i,n),s})}T.cacheFile=as;function ls(e,t,r){if(!e)throw new Error("toolName parameter is required");if(!t)throw new Error("versionSpec parameter is required");if(r=r||Re.arch(),!Sr(t)){const n=Or(e,r),s=cs(n,t);t=s}let i="";if(t){t=J.clean(t)||"";const n=U.join(Fe(),e,t,r);O.debug(`checking cache: ${n}`),F.existsSync(n)&&F.existsSync(`${n}.complete`)?(O.debug(`Found tool in cache ${e} ${t} ${r}`),i=n):O.debug("not found")}return i}T.find=ls;function Or(e,t){const r=[];t=t||Re.arch();const i=U.join(Fe(),e);if(F.existsSync(i)){const n=F.readdirSync(i);for(const s of n)if(Sr(s)){const o=U.join(i,s,t||"");F.existsSync(o)&&F.existsSync(`${o}.complete`)&&r.push(s)}}return r}T.findAllVersions=Or;function us(e,t,r,i="master"){return L(this,void 0,void 0,function*(){let n=[];const s=`https://api.github.com/repos/${e}/${t}/git/trees/${i}`,o=new yr.HttpClient("tool-cache"),a={};r&&(O.debug("set auth"),a.authorization=r);const c=yield o.getJson(s,a);if(!c.result)return n;let h="";for(const d of c.result.tree)if(d.path==="versions-manifest.json"){h=d.url;break}a.accept="application/vnd.github.VERSION.raw";let u=yield(yield o.get(h,a)).readBody();if(u){u=u.replace(/^\uFEFF/,"");try{n=JSON.parse(u)}catch(d){O.debug("Invalid json")}}return n})}T.getManifestFromRepo=us;function fs(e,t,r,i=Re.arch()){return L(this,void 0,void 0,function*(){const n=yield Xn._findMatch(e,t,r,i);return n})}T.findFromManifest=fs;function qe(e){return L(this,void 0,void 0,function*(){return e||(e=U.join(wr(),vr.default())),yield q.mkdirP(e),e})}function gr(e,t,r){return L(this,void 0,void 0,function*(){const i=U.join(Fe(),e,J.clean(t)||t,r||"");O.debug(`destination ${i}`);const n=`${i}.complete`;return yield q.rmRF(i),yield q.rmRF(n),yield q.mkdirP(i),i})}function Rr(e,t,r){const i=U.join(Fe(),e,J.clean(t)||t,r||""),n=`${i}.complete`;F.writeFileSync(n,""),O.debug("finished caching tool")}function Sr(e){const t=J.clean(e)||"";O.debug(`isExplicit: ${t}`);const r=J.valid(t)!=null;return O.debug(`explicit? ${r}`),r}function cs(e,t){let r="";O.debug(`evaluating ${e.length} versions`),e=e.sort((i,n)=>J.gt(i,n)?1:-1);for(let i=e.length-1;i>=0;i--){const n=e[i],s=J.satisfies(n,t);if(s){r=n;break}}return r?O.debug(`matched: ${r}`):O.debug("match not found"),r}function Fe(){const e=process.env.RUNNER_TOOL_CACHE||"";return pe.ok(e,"Expected RUNNER_TOOL_CACHE to be defined"),e}function wr(){const e=process.env.RUNNER_TEMP||"";return pe.ok(e,"Expected RUNNER_TEMP to be defined"),e}function ht(e,t){const r=global[e];return r!==void 0?r:t}function ts(e){return Array.from(new Set(e))}});const Nr=A(M()),xr=A(Oe()),Ve=A(require("process")),ke=A(M()),K=e=>{ke.info(`Add ${e} to PATH`),ke.addPath(e)},_r=A(M()),b=(e,t)=>{_r.setFailed(e),t&&console.error(t),process.exit(1)},je=A(M()),Ue=A(Ie()),Me=A(Oe()),Ir=A(require("fs")),Tr=A(require("path")),me=e=>e,B=e=>e,ee=(e,t)=>Tr.join(e,t),dt=async({version:e})=>{const t=me("D:\\cljstyle");Ue.mkdirP(t);const r=`cljstyle-${e}.jar`,i=`https://github.com/greglook/cljstyle/releases/download/${e}/${r}`;je.info(`Downloading ${i}`);const n=await Me.downloadTool(i).catch(o=>b("Failed to download tar file",o)),s=ee(t,B(`cljstyle-${e}.jar`));je.info(`Move ${n} to ${s}`),Ue.mv(n,s),je.info(`Caching ${t} directory`),await Me.cacheDir(t,"cljstyle",e).catch(o=>b(`Failed to cache ${t} directory`,o)),Ir.writeFileSync(ee(t,B("cljstyle.bat")),`java -jar %~dp0cljstyle-${e}.jar %*`),K(t)};const Ge=A(M()),Ee=A(Oe()),pt=async({version:e})=>{const t=me("/usr/local/bin"),r=B(`cljstyle_${e}_macos.tar.gz`),i=`https://github.com/greglook/cljstyle/releases/download/${e}/${r}`;Ge.info(`Downloading ${i}`);const n=await Ee.downloadTool(i).catch(o=>b("Failed to download tar file",o));Ge.info(`Extracting ${n} into ${t}`);const s=await Ee.extractTar(n,ee(t,B("cljstyle"))).catch(o=>b("Failed to extract tar file",o));Ge.info(`Caching ${s} directory`),await Ee.cacheDir(s,"cljstyle",e).catch(o=>b(`Failed to cache ${s} directory`,o)),K(s)};const Be=A(M()),ye=A(Oe()),Ar=A(require("os")),mt=async({version:e})=>{const t=me(Ar.homedir()),r=ee(t,B("bin")),i=B(`cljstyle_${e}_linux.tar.gz`),n=`http://github.com/greglook/cljstyle/releases/download/${e}/${i}`;Be.info(`Downloading ${n}`);const s=await ye.downloadTool(n).catch(a=>b("Failed to download tar file",a));Be.info(`Extracting ${s} into ${r}`);const o=await ye.extractTar(s,ee(r,B("cljstyle"))).catch(a=>b("Failed to extract tar file",a));Be.info(`Caching ${o} directory`),await ye.cacheDir(o,"cljstyle",e).catch(a=>b(`Failed to cache ${o} directory`,a)),K(o)};const Se=Nr.getInput("cljstyle-version"),hs=/^([1-9]\d*|0)\.([1-9]\d*|0)\.([1-9]\d*|0)$/;hs.test(Se)||b("The format of cljstyle-version is invalid.");const Lr=xr.find("cljstyle",Se);Lr!==""&&(K(Lr),Ve.exit(0));switch(Ve.platform){case"win32":dt({version:Se});break;case"darwin":pt({version:Se});break;default:mt({version:Se})}
